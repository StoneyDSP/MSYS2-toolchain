
#[===[.md
# System
set(CMAKE_HOST_SYSTEM "Windows-10.0.22621")
set(CMAKE_HOST_SYSTEM_NAME "Windows")
set(CMAKE_HOST_SYSTEM_VERSION "10.0.22621")
set(CMAKE_HOST_SYSTEM_PROCESSOR "AMD64")
#include("C:/Users/natha/Development/StoneyDSP/MSYS2-toolchain/scripts/buildsystems/MSYS2.cmake")
set(CMAKE_SYSTEM "Windows")
set(CMAKE_SYSTEM_NAME "Windows")
set(CMAKE_SYSTEM_VERSION "")
set(CMAKE_SYSTEM_PROCESSOR "x86_64")
set(CMAKE_SYSTEM_LOADED 1)

set(CMAKE_CROSSCOMPILING "OFF")

set(CMAKE_AR "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc-ar.exe")
set(CMAKE_LINKER "C:/msys64/mingw64/bin/ld.exe")
set(CMAKE_MT "")
set(CMAKE_RANLIB "C:/msys64/mingw64/bin/ranlib.exe")

set(CMAKE_C_COMPILER "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc.exe")
set(CMAKE_C_COMPILER_ARG1 "")
set(CMAKE_C_COMPILER_ID "GNU")
set(CMAKE_C_COMPILER_VERSION "13.1.0")
set(CMAKE_C_COMPILER_VERSION_INTERNAL "")
set(CMAKE_C_COMPILER_WRAPPER "")
set(CMAKE_C_STANDARD_COMPUTED_DEFAULT "17")
set(CMAKE_C_EXTENSIONS_COMPUTED_DEFAULT "ON")
set(CMAKE_C_COMPILE_FEATURES "c_std_90;c_function_prototypes;c_std_99;c_restrict;c_variadic_macros;c_std_11;c_static_assert;c_std_17;c_std_23")
set(CMAKE_C90_COMPILE_FEATURES "c_std_90;c_function_prototypes")
set(CMAKE_C99_COMPILE_FEATURES "c_std_99;c_restrict;c_variadic_macros")
set(CMAKE_C11_COMPILE_FEATURES "c_std_11;c_static_assert")
set(CMAKE_C17_COMPILE_FEATURES "c_std_17")
set(CMAKE_C23_COMPILE_FEATURES "c_std_23")
set(CMAKE_C_PLATFORM_ID "MinGW")
set(CMAKE_C_SIMULATE_ID "")
set(CMAKE_C_COMPILER_FRONTEND_VARIANT "GNU")
set(CMAKE_C_SIMULATE_VERSION "")
set(CMAKE_C_COMPILER_AR "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc-ar.exe")
set(CMAKE_C_COMPILER_RANLIB "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc-ranlib.exe")
set(CMAKE_COMPILER_IS_GNUCC 1)
set(CMAKE_C_COMPILER_LOADED 1)
set(CMAKE_C_COMPILER_WORKS TRUE)
set(CMAKE_C_ABI_COMPILED TRUE)
set(CMAKE_C_COMPILER_ENV_VAR "CC")
set(CMAKE_C_COMPILER_ID_RUN 1)
set(CMAKE_C_SOURCE_FILE_EXTENSIONS c;m)
set(CMAKE_C_IGNORE_EXTENSIONS h;H;o;O;obj;OBJ;def;DEF;rc;RC)
set(CMAKE_C_LINKER_PREFERENCE 10)
# Save compiler ABI information.
set(CMAKE_C_SIZEOF_DATA_PTR "8")
set(CMAKE_C_COMPILER_ABI "")
set(CMAKE_C_BYTE_ORDER "LITTLE_ENDIAN")
set(CMAKE_C_LIBRARY_ARCHITECTURE "")
if(CMAKE_C_SIZEOF_DATA_PTR)
    set(CMAKE_SIZEOF_VOID_P "${CMAKE_C_SIZEOF_DATA_PTR}")
endif()
if(CMAKE_C_COMPILER_ABI)
    set(CMAKE_INTERNAL_PLATFORM_ABI "${CMAKE_C_COMPILER_ABI}")
endif()
if(CMAKE_C_LIBRARY_ARCHITECTURE)
    set(CMAKE_LIBRARY_ARCHITECTURE "")
endif()
set(CMAKE_C_CL_SHOWINCLUDES_PREFIX "")
if(CMAKE_C_CL_SHOWINCLUDES_PREFIX)
    set(CMAKE_CL_SHOWINCLUDES_PREFIX "${CMAKE_C_CL_SHOWINCLUDES_PREFIX}")
endif()
set(CMAKE_C_IMPLICIT_INCLUDE_DIRECTORIES "C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include;C:/msys64/mingw64/include;C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed")
set(CMAKE_C_IMPLICIT_LINK_LIBRARIES "mingw32;gcc;moldname;mingwex;kernel32;pthread;advapi32;shell32;user32;kernel32;mingw32;gcc;moldname;mingwex;kernel32")
set(CMAKE_C_IMPLICIT_LINK_DIRECTORIES "C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0;C:/msys64/mingw64/lib/gcc;C:/msys64/mingw64/x86_64-w64-mingw32/lib;C:/msys64/mingw64/lib")
set(CMAKE_C_IMPLICIT_LINK_FRAMEWORK_DIRECTORIES "")
# <CXX>
set(CMAKE_CXX_COMPILER "C:/msys64/mingw64/bin/x86_64-w64-mingw32-g++.exe")
set(CMAKE_CXX_COMPILER_ARG1 "")
set(CMAKE_CXX_COMPILER_ID "GNU")
set(CMAKE_CXX_COMPILER_VERSION "13.1.0")
set(CMAKE_CXX_COMPILER_VERSION_INTERNAL "")
set(CMAKE_CXX_COMPILER_WRAPPER "")
set(CMAKE_CXX_STANDARD_COMPUTED_DEFAULT "17")
set(CMAKE_CXX_EXTENSIONS_COMPUTED_DEFAULT "ON")
set(CMAKE_CXX_COMPILE_FEATURES "cxx_std_98;cxx_template_template_parameters;cxx_std_11;cxx_alias_templates;cxx_alignas;cxx_alignof;cxx_attributes;cxx_auto_type;cxx_constexpr;cxx_decltype;cxx_decltype_incomplete_return_types;cxx_default_function_template_args;cxx_defaulted_functions;cxx_defaulted_move_initializers;cxx_delegating_constructors;cxx_deleted_functions;cxx_enum_forward_declarations;cxx_explicit_conversions;cxx_extended_friend_declarations;cxx_extern_templates;cxx_final;cxx_func_identifier;cxx_generalized_initializers;cxx_inheriting_constructors;cxx_inline_namespaces;cxx_lambdas;cxx_local_type_template_args;cxx_long_long_type;cxx_noexcept;cxx_nonstatic_member_init;cxx_nullptr;cxx_override;cxx_range_for;cxx_raw_string_literals;cxx_reference_qualified_functions;cxx_right_angle_brackets;cxx_rvalue_references;cxx_sizeof_member;cxx_static_assert;cxx_strong_enums;cxx_thread_local;cxx_trailing_return_types;cxx_unicode_literals;cxx_uniform_initialization;cxx_unrestricted_unions;cxx_user_literals;cxx_variadic_macros;cxx_variadic_templates;cxx_std_14;cxx_aggregate_default_initializers;cxx_attribute_deprecated;cxx_binary_literals;cxx_contextual_conversions;cxx_decltype_auto;cxx_digit_separators;cxx_generic_lambdas;cxx_lambda_init_captures;cxx_relaxed_constexpr;cxx_return_type_deduction;cxx_variable_templates;cxx_std_17;cxx_std_20;cxx_std_23")
set(CMAKE_CXX98_COMPILE_FEATURES "cxx_std_98;cxx_template_template_parameters")
set(CMAKE_CXX11_COMPILE_FEATURES "cxx_std_11;cxx_alias_templates;cxx_alignas;cxx_alignof;cxx_attributes;cxx_auto_type;cxx_constexpr;cxx_decltype;cxx_decltype_incomplete_return_types;cxx_default_function_template_args;cxx_defaulted_functions;cxx_defaulted_move_initializers;cxx_delegating_constructors;cxx_deleted_functions;cxx_enum_forward_declarations;cxx_explicit_conversions;cxx_extended_friend_declarations;cxx_extern_templates;cxx_final;cxx_func_identifier;cxx_generalized_initializers;cxx_inheriting_constructors;cxx_inline_namespaces;cxx_lambdas;cxx_local_type_template_args;cxx_long_long_type;cxx_noexcept;cxx_nonstatic_member_init;cxx_nullptr;cxx_override;cxx_range_for;cxx_raw_string_literals;cxx_reference_qualified_functions;cxx_right_angle_brackets;cxx_rvalue_references;cxx_sizeof_member;cxx_static_assert;cxx_strong_enums;cxx_thread_local;cxx_trailing_return_types;cxx_unicode_literals;cxx_uniform_initialization;cxx_unrestricted_unions;cxx_user_literals;cxx_variadic_macros;cxx_variadic_templates")
set(CMAKE_CXX14_COMPILE_FEATURES "cxx_std_14;cxx_aggregate_default_initializers;cxx_attribute_deprecated;cxx_binary_literals;cxx_contextual_conversions;cxx_decltype_auto;cxx_digit_separators;cxx_generic_lambdas;cxx_lambda_init_captures;cxx_relaxed_constexpr;cxx_return_type_deduction;cxx_variable_templates")
set(CMAKE_CXX17_COMPILE_FEATURES "cxx_std_17")
set(CMAKE_CXX20_COMPILE_FEATURES "cxx_std_20")
set(CMAKE_CXX23_COMPILE_FEATURES "cxx_std_23")
set(CMAKE_CXX_PLATFORM_ID "MinGW")
set(CMAKE_CXX_SIMULATE_ID "")
set(CMAKE_CXX_COMPILER_FRONTEND_VARIANT "GNU")
set(CMAKE_CXX_SIMULATE_VERSION "")
set(CMAKE_CXX_COMPILER_AR "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc-ar.exe")
set(CMAKE_CXX_COMPILER_RANLIB "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc-ranlib.exe")
set(CMAKE_COMPILER_IS_GNUCXX 1)
set(CMAKE_CXX_COMPILER_LOADED 1)
set(CMAKE_CXX_COMPILER_WORKS TRUE)
set(CMAKE_CXX_ABI_COMPILED TRUE)
set(CMAKE_CXX_COMPILER_ENV_VAR "CXX")
set(CMAKE_CXX_COMPILER_ID_RUN 1)
set(CMAKE_CXX_SOURCE_FILE_EXTENSIONS C;M;c++;cc;cpp;cxx;m;mm;mpp;CPP;ixx;cppm)
set(CMAKE_CXX_IGNORE_EXTENSIONS inl;h;hpp;HPP;H;o;O;obj;OBJ;def;DEF;rc;RC)
foreach (lang C OBJC OBJCXX)
    if (CMAKE_${lang}_COMPILER_ID_RUN)
        foreach(extension IN LISTS CMAKE_${lang}_SOURCE_FILE_EXTENSIONS)
            list(REMOVE_ITEM CMAKE_CXX_SOURCE_FILE_EXTENSIONS ${extension})
        endforeach()
    endif()
endforeach()
set(CMAKE_CXX_LINKER_PREFERENCE 30)
set(CMAKE_CXX_LINKER_PREFERENCE_PROPAGATES 1)
# Save compiler ABI information.
set(CMAKE_CXX_SIZEOF_DATA_PTR "8")
set(CMAKE_CXX_COMPILER_ABI "")
set(CMAKE_CXX_BYTE_ORDER "LITTLE_ENDIAN")
set(CMAKE_CXX_LIBRARY_ARCHITECTURE "")
if(CMAKE_CXX_SIZEOF_DATA_PTR)
    set(CMAKE_SIZEOF_VOID_P "${CMAKE_CXX_SIZEOF_DATA_PTR}")
endif()
if(CMAKE_CXX_COMPILER_ABI)
    set(CMAKE_INTERNAL_PLATFORM_ABI "${CMAKE_CXX_COMPILER_ABI}")
endif()
if(CMAKE_CXX_LIBRARY_ARCHITECTURE)
    set(CMAKE_LIBRARY_ARCHITECTURE "")
endif()
set(CMAKE_CXX_CL_SHOWINCLUDES_PREFIX "")
if(CMAKE_CXX_CL_SHOWINCLUDES_PREFIX)
    set(CMAKE_CL_SHOWINCLUDES_PREFIX "${CMAKE_CXX_CL_SHOWINCLUDES_PREFIX}")
endif()
set(CMAKE_CXX_IMPLICIT_INCLUDE_DIRECTORIES "C:/msys64/mingw64/include/c++/13.1.0;C:/msys64/mingw64/include/c++/13.1.0/x86_64-w64-mingw32;C:/msys64/mingw64/include/c++/13.1.0/backward;C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include;C:/msys64/mingw64/include;C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed")
set(CMAKE_CXX_IMPLICIT_LINK_LIBRARIES "C:/msys64/mingw64/lib/libstdc++.a;mingw32;gcc;moldname;mingwex;kernel32;pthread;advapi32;shell32;user32;kernel32;mingw32;gcc;moldname;mingwex;kernel32")
set(CMAKE_CXX_IMPLICIT_LINK_DIRECTORIES "C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0;C:/msys64/mingw64/lib/gcc;C:/msys64/mingw64/x86_64-w64-mingw32/lib;C:/msys64/mingw64/lib")
set(CMAKE_CXX_IMPLICIT_LINK_FRAMEWORK_DIRECTORIES "")
# <RC>
set(CMAKE_RC_COMPILER "C:/msys64/mingw64/bin/windres.exe")
set(CMAKE_RC_COMPILER_ARG1 "")
set(CMAKE_RC_COMPILER_LOADED 1)
set(CMAKE_RC_SOURCE_FILE_EXTENSIONS rc;RC)
set(CMAKE_RC_OUTPUT_EXTENSION .obj)
set(CMAKE_RC_COMPILER_ENV_VAR "RC")
]===]

if(NOT _MSYS_MINGW64_TOOLCHAIN)
    set(_MSYS_MINGW64_TOOLCHAIN 1)

    # We still need to set some sort of default Z_MSYS_ROOT_DIR in case this file
    # is being loaded outside of the MSYS buildsystem file... Let's just use the MSYSTEM name.

    # Detect <Z_MSYS_ROOT_DIR>/mingw64.ini to figure MINGW64_ROOT_DIR
    set(Z_MINGW64_ROOT_DIR_CANDIDATE "${CMAKE_CURRENT_LIST_DIR}")
    while(NOT DEFINED Z_MINGW64_ROOT_DIR)
        if(EXISTS "${Z_MINGW64_ROOT_DIR_CANDIDATE}msys64/mingw64.ini")
            set(Z_MINGW64_ROOT_DIR "${Z_MINGW64_ROOT_DIR_CANDIDATE}msys64/mingw64" CACHE INTERNAL "MinGW64 root directory")
        elseif(IS_DIRECTORY "${Z_MINGW64_ROOT_DIR_CANDIDATE}")
            get_filename_component(Z_MINGW64_ROOT_DIR_TEMP "${Z_MINGW64_ROOT_DIR_CANDIDATE}" DIRECTORY)
            if(Z_MINGW64_ROOT_DIR_TEMP STREQUAL Z_MINGW64_ROOT_DIR_CANDIDATE)
                break() # If unchanged, we have reached the root of the drive without finding vcpkg.
            endif()
            set(Z_MINGW64_ROOT_DIR_CANDIDATE "${Z_MINGW64_ROOT_DIR_TEMP}")
            unset(Z_MINGW64_ROOT_DIR_TEMP)
        else()
            message(WARNING "Could not find '/mingw64.ini'")
            break()
        endif()
    endwhile()
    unset(Z_MINGW64_ROOT_DIR_CANDIDATE)

    set(ENABLE_MINGW64 ON CACHE BOOL "Enable sub-system: MinGW x64 <MINGW64>." FORCE)

    message(STATUS "MinGW x64 toolchain loading...")


    # if(ENABLE_MINGW64)

    #     set(CARCH "x86_64")
    #     set(CHOST "x86_64-w64-mingw32")
    #     set(MINGW_CHOST "x86_64-w64-mingw32")
    #     set(MINGW_PREFIX "/mingw64")
    #     set(MINGW_PACKAGE_PREFIX "mingw-w64-x86_64")
    #     set(MINGW_MOUNT_POINT "${MINGW_PREFIX}")

    #     set(MSYSTEM_TITLE               "MinGW x64"                         CACHE STRING    "MinGW x64: Name of the build system." FORCE)
    #     set(MSYSTEM_TOOLCHAIN_VARIANT   gcc                                 CACHE STRING    "MinGW x64: Identification string of the compiler toolchain variant." FORCE)
    #     set(MSYSTEM_CRT_LIBRARY         msvcrt                              CACHE STRING    "MinGW x64: Identification string of the C Runtime variant. Can be 'ucrt' (modern, 64-bit only) or 'msvcrt' (compatibilty for legacy builds)." FORCE)
    #     set(MSYSTEM_CXX_STD_LIBRARY     libstdc++                           CACHE STRING    "MinGW x64: Identification string of the C++ Standard Library variant. Can be 'libstdc++' (GNU implementation) or 'libc++' (LLVM implementation)." FORCE)
    #     set(MSYSTEM_PREFIX              "/mingw64"                          CACHE STRING    "MinGW x64: Sub-system prefix." FORCE)
    #     set(MSYSTEM_ARCH                "x86_64"                            CACHE STRING    "MinGW x64: Sub-system architecture." FORCE)
    #     set(MSYSTEM_PLAT                "x86_64-w64-mingw32"                CACHE STRING    "MinGW x64: Sub-system name string." FORCE)
    #     set(MSYSTEM_PACKAGE_PREFIX      "mingw-w64-x86_64"                  CACHE STRING    "MinGW x64: Sub-system package prefix." FORCE)
    #     set(MSYSTEM_ROOT                "${Z_MINGW64_ROOT_DIR}"     CACHE PATH      "MinGW x64: Root of the build system." FORCE)

    # endif()

    # set(CMAKE_HOST_SYSTEM "Windows-10.0.22621")
    # set(CMAKE_HOST_SYSTEM_NAME "Windows")
    # set(CMAKE_HOST_SYSTEM_VERSION "10.0.22621")
    # set(CMAKE_HOST_SYSTEM_PROCESSOR "AMD64")
    # #include("./scripts/buildsystems/MSYS2.cmake")
    # set(CMAKE_SYSTEM "Windows")
    # set(CMAKE_SYSTEM_NAME "Windows")
    # set(CMAKE_SYSTEM_VERSION "")

    # Need to override MinGW from MSYS_CMAKE_SYSTEM_NAME
    set(CMAKE_SYSTEM_NAME Windows CACHE STRING "The name of the operating system for which CMake is to build." FORCE)
    set(CMAKE_SYSTEM_PROCESSOR x86_64 CACHE STRING "When not cross-compiling, this variable has the same value as the ``CMAKE_HOST_SYSTEM_PROCESSOR`` variable." FORCE)

    if(CMAKE_HOST_SYSTEM_NAME STREQUAL "Windows")
        set(CMAKE_CROSSCOMPILING OFF CACHE BOOL "Intended to indicate whether CMake is cross compiling, but note limitations discussed below.")
    endif()



    set(MINGW64_TITLE               "MinGW x64"                         CACHE STRING    "MinGW x64: Name of the build system." FORCE)
    set(MINGW64_TOOLCHAIN_VARIANT   gcc                                 CACHE STRING    "MinGW x64: Identification string of the compiler toolchain variant." FORCE)
    set(MINGW64_CRT_LIBRARY         msvcrt                              CACHE STRING    "MinGW x64: Identification string of the C Runtime variant. Can be 'ucrt' (modern, 64-bit only) or 'msvcrt' (compatibilty for legacy builds)." FORCE)
    set(MINGW64_CXX_STD_LIBRARY     libstdc++                           CACHE STRING    "MinGW x64: Identification string of the C++ Standard Library variant. Can be 'libstdc++' (GNU implementation) or 'libc++' (LLVM implementation)." FORCE)
    set(MINGW64_PREFIX              "/mingw64"                          CACHE STRING    "MinGW x64: Sub-system prefix." FORCE)
    set(MINGW64_ARCH                "x86_64"                            CACHE STRING    "MinGW x64: Sub-system architecture." FORCE)
    set(MINGW64_PLAT                "x86_64-w64-mingw32"                CACHE STRING    "MinGW x64: Sub-system name string." FORCE)
    set(MINGW64_PACKAGE_PREFIX      "mingw-w64-x86_64"                  CACHE STRING    "MinGW x64: Sub-system package prefix." FORCE)
    set(MINGW64_ROOT                "${Z_MINGW64_ROOT_DIR}"             CACHE PATH      "MinGW x64: Root of the build system." FORCE)

    # Set toolchain package suffixes (i.e., '{mingw-w64-clang-x86_64}-avr-toolchain')...
    set(MINGW64_TOOLCHAIN_NATIVE_ARM_NONE_EABI          "mingw-w64-x86_64-arm-none-eabi-toolchain" CACHE STRING "" FORCE)
    set(MINGW64_TOOLCHAIN_NATIVE_AVR                    "mingw-w64-x86_64-avr-toolchain" CACHE STRING "" FORCE)
    set(MINGW64_TOOLCHAIN_NATIVE_RISCV64_UNKOWN_ELF     "mingw-w64-x86_64-riscv64-unknown-elf-toolchain" CACHE STRING "The 'unknown elf' toolchain! Careful with this elf, it is not known." FORCE)
    set(MINGW64_TOOLCHAIN_NATIVE                        "mingw-w64-x86_64-toolchain" CACHE STRING "" FORCE)

    # DirectX compatibility environment variable
    set(MINGW64_DXSDK_DIR "${Z_MINGW64_ROOT_DIR}/x86_64-w64-mingw32" CACHE PATH "DirectX compatibility environment variable." FORCE)

    # set(ACLOCAL_PATH "${Z_MSYS_ROOT}/${MINGW_PREFIX}/share/aclocal" "${Z_MSYS_ROOT}/usr/share" CACHE PATH "By default, aclocal searches for .m4 files in the following directories." FORCE)
    list(APPEND ACLOCAL_PATH
        "${Z_MINGW64_ROOT_DIR}/share/aclocal"
        "${Z_MINGW64_ROOT_DIR}/usr/share"
    )

    # set(PKG_CONFIG_PATH "${Z_MSYS_ROOT}/${MINGW_PREFIX}/lib/pkgconfig" "${Z_MSYS_ROOT}/${MINGW_PREFIX}/share/pkgconfig" CACHE PATH "A colon-separated (on Windows, semicolon-separated) list of directories to search for .pc files. The default directory will always be searched after searching the path." FORCE)
    list(APPEND PKG_CONFIG_PATH
        "${Z_MINGW64_ROOT_DIR}/lib/pkgconfig"
        "${Z_MINGW64_ROOT_DIR}/share/pkgconfig"
    )

    if(NOT DEFINED CRT_LINKAGE)
        set(CRT_LINKAGE "static")
    endif()

    set(__USE_MINGW_ANSI_STDIO  "1")                                   # CACHE STRING   "Use the MinGW ANSI definition for 'stdio.h'." FORCE)
    set(_FORTIFY_SOURCE         "2")                                   # CACHE STRING   "Fortify source definition." FORCE)

    # <LD>
    find_program(LD  "ld" NO_CACHE) # DOC "The full path to the compiler for <LD>.")
    mark_as_advanced(LD)
    if(NOT DEFINED LDFLAGS)
        set(LDFLAGS "") # CACHE STRING "Flags for the 'C/C++' language linker utility, for all build types.")
        string(APPEND LDFLAGS "-pipe ")

        set(LDFLAGS_DEBUG "") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <Debug> builds.")
        set(LDFLAGS_RELEASE "") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <Release> builds.")
        set(LDFLAGS_MINSIZEREL "") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <MinSizeRel> builds.")
        set(LDFLAGS_RELWITHDEBINFO "") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <RelWithDebInfo> builds.")

    endif() # (NOT DEFINED LDFLAGS)
    set(LDFLAGS_FLAGS "${LDFLAGS}") # CACHE STRING "Flags for the 'C/C++' language linker utility, for all build types." FORCE)
    set(LDFLAGS_DEBUG "${LDFLAGS_DEBUG}") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <Debug> builds.")
    set(LDFLAGS_RELEASE "${LDFLAGS_RELEASE}") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <Release> builds.")
    set(LDFLAGS_MINSIZEREL "${LDFLAGS_MINSIZEREL}") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <MinSizeRel> builds.")
    set(LDFLAGS_RELWITHDEBINFO "${LDFLAGS_RELWITHDEBINFO}") # CACHE STRING "Flags for the 'C/C++' language linker utility, for <RelWithDebInfo> builds.")
    set(LD_COMMAND "${LD} ${LDFLAGS}") # CACHE STRING "The 'C/C++' language linker utility command." FORCE)

    # <CXX>
    find_program(CXX "c++" DOC "The full path to the compiler for <CXX>.")
    mark_as_advanced(CXX)
    if(NOT DEFINED CXX_FLAGS)
        set(CXX_FLAGS "" CACHE STRING "Flags for the 'C++' language utility, for all build types.")
        string(APPEND CXX_FLAGS "-march=nocona ")
        string(APPEND CXX_FLAGS "-msahf ")
        string(APPEND CXX_FLAGS "-mtune=generic ")
        string(APPEND CXX_FLAGS "-pipe ")

        set(CXX_FLAGS_DEBUG "") # CACHE STRING "Flags for the 'C++' language utility, for <Debug> builds.")
        set(CXX_FLAGS_RELEASE "") # CACHE STRING "Flags for the 'C++' language utility, for <Release> builds.")
        set(CXX_FLAGS_MINSIZEREL "") # CACHE STRING "Flags for the 'C++' language utility, for <MinSizeRel> builds.")
        set(CXX_FLAGS_RELWITHDEBINFO "") # CACHE STRING "Flags for the 'C++' language utility, for <RelWithDebInfo> builds.")

    endif() # (NOT DEFINED CC_FLAGS)
    set(CXX_FLAGS "${CXX_FLAGS}") # CACHE STRING "Flags for the 'C++' language utility, for all build types." FORCE)
    set(CXX_FLAGS_DEBUG "${CXX_FLAGS_DEBUG}") # CACHE STRING "Flags for the 'C++' language utility, for <Debug> builds.")
    set(CXX_FLAGS_RELEASE "${CXX_FLAGS_RELEASE}") # CACHE STRING "Flags for the 'C++' language utility, for <Release> builds.")
    set(CXX_FLAGS_MINSIZEREL "${CXX_FLAGS_MINSIZEREL}") # CACHE STRING "Flags for the 'C++' language utility, for <MinSizeRel> builds.")
    set(CXX_FLAGS_RELWITHDEBINFO "${CXX_FLAGS_RELWITHDEBINFO}") # CACHE STRING "Flags for the 'C++' language utility, for <RelWithDebInfo> builds.")
    set(CXX_COMMAND "${CXX} ${CXX_FLAGS}") # CACHE STRING "The 'C++' language utility command." FORCE)

    ###########################################################################
    # <CC>
    ###########################################################################
    # Compiler defaults...
    set(MINGW64_C_PLATFORM_ID "MinGW" CACHE STRING "" FORCE)
    set(MINGW64_C_COMPILER_FRONTEND_VARIANT "GNU" CACHE STRING "Identification string of the compiler frontend variant." FORCE)
    set(MINGW64_C_COMPILE_FEATURES "c_std_90;c_function_prototypes;c_std_99;c_restrict;c_variadic_macros;c_std_11;c_static_assert;c_std_17;c_std_23" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C90_COMPILE_FEATURES "c_std_90;c_function_prototypes" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C99_COMPILE_FEATURES "c_std_99;c_restrict;c_variadic_macros" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C11_COMPILE_FEATURES "c_std_11;c_static_assert" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C17_COMPILE_FEATURES "c_std_17" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C23_COMPILE_FEATURES "c_std_23" CACHE STRING "List of features known to the <CC> compiler." FORCE)
    set(MINGW64_C_SIZEOF_DATA_PTR "8" CACHE STRING "Size of pointer-to-data types for language <CC>." FORCE)
    set(MINGW64_SIZEOF_VOID_P "${MINGW64_C_SIZEOF_DATA_PTR}" CACHE STRING "Size of a ``void`` pointer." FORCE)
    # Implicit include dirs...
    set(MINGW64_C_IMPLICIT_INCLUDE_DIRECTORIES
        "${Z_MINGW64_ROOT_DIR}/include"
        "${Z_MINGW64_ROOT_DIR}/lib/gcc/x86_64-w64-mingw32/13.1.0/include"
        "${Z_MINGW64_ROOT_DIR}/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed"
        CACHE PATH "Directories implicitly searched by the compiler for header files for language <CC>." FORCE
    )
    # Implicit link dirs...
    set(MINGW64_C_IMPLICIT_LINK_DIRECTORIES
        "${Z_MINGW64_ROOT_DIR}/lib"
        "${Z_MINGW64_ROOT_DIR}/lib/gcc"
        "${Z_MINGW64_ROOT_DIR}/lib/gcc/x86_64-w64-mingw32/13.1.0"
        "${Z_MINGW64_ROOT_DIR}/x86_64-w64-mingw32/lib"
        CACHE PATH "Implicit linker search path detected for language <CC>." FORCE
    )
    # Implicit link libs...
    set(MINGW64_C_IMPLICIT_LINK_LIBRARIES "" CACHE STRING "Implicit link libraries and flags detected for language <CC>.")
    string(APPEND MINGW64_C_IMPLICIT_LINK_LIBRARIES
        gcc
        mingw32
        mingwex
        moldname
        pthread
        advapi32
        kernel32
        shell32
        user32
    )
    set(MINGW64_C_IMPLICIT_LINK_FRAMEWORK_DIRECTORIES "" CACHE PATH "Implicit linker framework search path detected for language <CC>." FORCE)
    # add_compile_definitions(__USE_MINGW_ANSI_STDIO=1)
    # add_compile_definitions($<$<COMPILE_LANGUAGE:C>:_FORTIFY_SOURCE=2>)
    # add_compile_options(-march=nocona -msahf -mtune=generic -pipe $<$<COMPILE_LANGUAGE:C>:-Wp,-D_FORTIFY_SOURCE=2> $<$<COMPILE_LANGUAGE:C>:-fstack-protector-strong>)
    # set(MINGW64_C_SRCFILE_EXTENSIONS c m) # CACHE STRING "" FORCE)

    find_program(CC "cc" DOC "The full path to the compiler for <CC>.")
    mark_as_advanced(CC)
    if(NOT DEFINED MINGW64_C_FLAGS)
        set(MINGW64_C_FLAGS "")
        string(APPEND MINGW64_C_FLAGS "-march=nocona ")
        string(APPEND MINGW64_C_FLAGS "-msahf ")
        string(APPEND MINGW64_C_FLAGS "-mtune=generic ")
        # string(APPEND C_FLAGS "-O2 ")
        string(APPEND MINGW64_C_FLAGS "-pipe ")
        string(APPEND MINGW64_C_FLAGS "-Wp,-D_FORTIFY_SOURCE=2 ")
        string(APPEND MINGW64_C_FLAGS "-fstack-protector-strong ")

        set(MINGW64_C_FLAGS_DEBUG "") # "-g" CACHE STRING "Flags for the 'C' language utility, for <Debug> builds.")
        set(MINGW64_C_FLAGS_RELEASE "") # "-O3 -DNDEBUG" CACHE STRING "Flags for the 'C' language utility, for <Release> builds.")
        set(MINGW64_C_FLAGS_MINSIZEREL "") # "-Os -DNDEBUG" CACHE STRING "Flags for the 'C' language utility, for <MinSizeRel> builds.")
        set(MINGW64_C_FLAGS_RELWITHDEBINFO "") # "-O2 -g -DNDEBUG" CACHE STRING "Flags for the 'C' language utility, for <RelWithDebInfo> builds.")

    endif()
    set(MINGW64_C_FLAGS "${MINGW64_C_FLAGS}" CACHE STRING "Flags for the 'C' language utility." FORCE)
    set(MINGW64_C_FLAGS_DEBUG "${MINGW64_C_FLAGS_DEBUG}" CACHE STRING "Flags for the 'C' language utility, for <Debug> builds.")
    set(MINGW64_C_FLAGS_RELEASE "${MINGW64_C_FLAGS_RELEASE}" CACHE STRING "Flags for the 'C' language utility, for <Release> builds.")
    set(MINGW64_C_FLAGS_MINSIZEREL "${MINGW64_C_FLAGS_MINSIZEREL}" CACHE STRING "Flags for the 'C' language utility, for <MinSizeRel> builds.")
    set(MINGW64_C_FLAGS_RELWITHDEBINFO "${MINGW64_C_FLAGS_RELWITHDEBINFO}" CACHE STRING "Flags for the 'C' language utility, for <RelWithDebInfo> builds.")
    set(MINGW64_C_COMMAND "${MINGW64_CC} ${MINGW64_C_FLAGS}" CACHE STRING "The 'C' language utility command." FORCE)

    set(MINGW64_C_SOURCE_FILE_EXTENSIONS "" CACHE STRING "Extensions of source files for the given language <CC>." FORCE)
    list(APPEND MINGW64_C_SOURCE_FILE_EXTENSIONS "c")
    list(APPEND MINGW64_C_SOURCE_FILE_EXTENSIONS "m")
    set(MINGW64_C_IGNORE_EXTENSIONS "" CACHE STRING "File extensions that should be ignored by the build." FORCE)
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "h")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "H")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "o")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "O")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "obj")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "OBJ")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "def")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "DEF")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "rc")
    list(APPEND MINGW64_C_IGNORE_EXTENSIONS "RC")

    # <CPP>
    find_program(CPP "cc" "c++") # NO_CACHE)
    mark_as_advanced(CPP)
    set(CPP "${CPP} -E") # CACHE STRING "The full path to the pre-processor for <CC/CXX>." FORCE)
    if(NOT DEFINED CPP_FLAGS)
        set(CPP_FLAGS "")
        string(APPEND CPP_FLAGS "-D__USE_MINGW_ANSI_STDIO=1 ")
    endif()
    set(CPP_FLAGS "${CPP_FLAGS}") # CACHE STRING "Flags for the 'C/C++' language pre-processor utility, for all build types." FORCE)
    set(CPP_COMMAND "${CC} ${CPP_FLAGS}") # CACHE STRING "The 'C' language pre-processor utility command." FORCE)

    # <RC>
    find_program(RC "rc" NO_CACHE) # DOC "The full path to the compiler for <RC>.")
    mark_as_advanced(RC)
    if(NOT DEFINED RC_FLAGS)
        set(RC_FLAGS "")
        if(MSYS_VERBOSE)
            string(APPEND RC_FLAGS "--verbose")
        endif()
        set(RC_FLAGS_DEBUG "") # CACHE STRING "Flags for the 'C' language resource compiler utility, for <Debug> builds.")
        set(RC_FLAGS_RELEASE "") # CACHE STRING "Flags for the 'C' language utility, for <Release> builds.")
        set(RC_FLAGS_MINSIZEREL "") # CACHE STRING "Flags for the 'C' language utility, for <MinSizeRel> builds.")
        set(RC_FLAGS_RELWITHDEBINFO "") # CACHE STRING "Flags for the 'C' language utility, for <RelWithDebInfo> builds.")
    endif()
    set(RC_FLAGS "${RC_FLAGS}") # CACHE STRING "Flags for the 'C' language utility." FORCE)
    set(RC_FLAGS_DEBUG "${RC_FLAGS_DEBUG}") # CACHE STRING "Flags for the 'C' language utility, for <Debug> builds.")
    set(RC_FLAGS_RELEASE "${RC_FLAGS_RELEASE}") # CACHE STRING "Flags for the 'C' language utility, for <Release> builds.")
    set(RC_FLAGS_MINSIZEREL "${RC_FLAGS_MINSIZEREL}") # CACHE STRING "Flags for the 'C' language utility, for <MinSizeRel> builds.")
    set(RC_FLAGS_RELWITHDEBINFO "${RC_FLAGS_RELWITHDEBINFO}") # CACHE STRING "Flags for the 'C' language utility, for <RelWithDebInfo> builds.")
    set(RC_COMMAND "${RC} ${RC_FLAGS}") # CACHE STRING "The 'C' language utility command." FORCE)

    # <AR>
    find_program(AR "ar" NO_CACHE) # DOC "The full path to the archiving utility.")
    mark_as_advanced(AR)
    if(NOT DEFINED AR_FLAGS)
        set(AR_FLAGS "-rv")
    endif() # (NOT DEFINED AR_FLAGS)
    set(AR_FLAGS "${AR_FLAGS}") # CACHE STRING "Flags for the archiving utility." FORCE)
    set(AR_COMMAND "${AR} ${AR_FLAGS}")

    ###########################################################################
    # CMake vars...
    ###########################################################################

    find_program (CMAKE_C_COMPILER
        "${Z_MINGW64_ROOT_DIR}/bin/${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32-gcc"
    )
    find_program (CMAKE_CXX_COMPILER
        "${Z_MINGW64_ROOT_DIR}/bin/${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32-g++"
    )
    find_program (CMAKE_RC_COMPILER
        "${Z_MINGW64_ROOT_DIR}/bin/${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32-windres"
    )

    if(NOT CMAKE_RC_COMPILER)
        find_program (CMAKE_RC_COMPILER
            "${Z_MINGW64_ROOT_DIR}/bin/windres"
        )
        if(NOT CMAKE_RC_COMPILER)
            find_program (CMAKE_RC_COMPILER
                "windres"
            )
        endif() # (NOT CMAKE_RC_COMPILER)
    endif() # (NOT CMAKE_RC_COMPILER)

    find_program(CMAKE_AR   "${Z_MINGW64_ROOT_DIR}/bin/${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32-gcc-ar")
    if(NOT CMAKE_AR)
        find_program(CMAKE_AR "${Z_MINGW64_ROOT_DIR}/bin/ar")
        if(NOT CMAKE_AR)
            find_program(CMAKE_AR "ar")
        endif() # (NOT CMAKE_AR)
    endif() # (NOT CMAKE_AR)

    # foreach(lang C CXX)
    #     set(CMAKE_${lang}_COMPILER_ID "GNU")
    #     set(CMAKE_${lang}_COMPILER_FRONTEND_VARIANT "GNU" CACHE STRING "") # this breaks the Kitware default flags etc...
    # endforeach() # (lang C CXX)

    foreach(lang C CXX)
        set(CMAKE_${lang}_COMPILER_TARGET "${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32" CACHE STRING "The target for cross-compiling, if supported. '--target=x86_64-w64-mingw32'")
    endforeach()

    # set(CMAKE_C_COMPILER_TARGET "${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32" CACHE STRING "The target for cross-compiling, if supported. '--target=x86_64-w64-mingw32'")
    # set(CMAKE_CXX_COMPILER_TARGET "${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32" CACHE STRING "The target for cross-compiling, if supported. '--target=x86_64-w64-mingw32'")
    set(CMAKE_RC_COMPILER_TARGET "${CMAKE_SYSTEM_PROCESSOR}-w64-mingw32" CACHE STRING "The target for cross-compiling, if supported. '--target=x86_64-w64-mingw32'")

    get_property( _MSYS_IN_TRY_COMPILE GLOBAL PROPERTY IN_TRY_COMPILE )

    if(NOT _MSYS_IN_TRY_COMPILE)

        string(APPEND CMAKE_CXX_FLAGS_INIT " ${CXX_FLAGS} ")
        string(APPEND CMAKE_CXX_FLAGS_RELEASE_INIT " ${CXX_FLAGS_RELEASE} ")
        string(APPEND CMAKE_CXX_FLAGS_DEBUG_INIT " ${CXX_FLAGS_DEBUG} ")
        string(APPEND CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT " ${CXX_FLAGS_RELWITHDEBINFO} ")
        string(APPEND CMAKE_CXX_FLAGS_MINZIZEREL_INIT " ${CXX_FLAGS_MINZIZEREL} ")

        string(APPEND CMAKE_C_FLAGS_INIT " ${CC_FLAGS} ")
        string(APPEND CMAKE_C_FLAGS_DEBUG_INIT " ${CC_FLAGS_DEBUG} ")
        string(APPEND CMAKE_C_FLAGS_RELEASE_INIT " ${CC_FLAGS_RELEASE} ")
        string(APPEND CMAKE_C_FLAGS_MINSIZEREL_INIT " ${CC_FLAGS_MINSIZEREL} ")
        string(APPEND CMAKE_C_FLAGS_RELWITHDEBINFO_INIT " ${CC_FLAGS_RELWITHDEBINFO} ")

        string(APPEND CMAKE_RC_FLAGS_INIT " ${RC_FLAGS} ")
        string(APPEND CMAKE_RC_FLAGS_DEBUG_INIT " ${RC_FLAGS_DEBUG} ")
        string(APPEND CMAKE_RC_FLAGS_RELEASE_INIT " ${RC_FLAGS_RELEASE} ")
        string(APPEND CMAKE_RC_FLAGS_MINSIZEREL_INIT " ${RC_FLAGS_MINSIZEREL} ")
        string(APPEND CMAKE_RC_FLAGS_RELWITHDEBINFO_INIT " ${RC_FLAGS_RELWITHDEBINFO} ")

        string(APPEND CMAKE_SHARED_LINKER_FLAGS_INIT " ${LDFLAGS} ${STRIP_SHARED} ") # These strip flags should be enabled via cmake options...
        string(APPEND CMAKE_EXE_LINKER_FLAGS_INIT " ${LDFLAGS} ${STRIP_BINARIES} ")

        if(CRT_LINKAGE STREQUAL "static")

            string(APPEND CMAKE_SHARED_LINKER_FLAGS_INIT "-static ")
            string(APPEND CMAKE_EXE_LINKER_FLAGS_INIT "-static ")

        endif() # (CRT_LINKAGE STREQUAL "static")

        string(APPEND CMAKE_SHARED_LINKER_FLAGS_DEBUG_INIT " ${LDFLAGS_DEBUG} ")
        string(APPEND CMAKE_SHARED_LINKER_FLAGS_RELEASE_INIT " ${LDFLAGS_RELEASE} ")

        string(APPEND CMAKE_EXE_LINKER_FLAGS_DEBUG_INIT " ${LDFLAGS_DEBUG} ")
        string(APPEND CMAKE_EXE_LINKER_FLAGS_RELEASE_INIT " ${LDFLAGS_RELEASE} ")

    endif() # (NOT _MSYS_IN_TRY_COMPILE)

    message(STATUS "MinGW x64 toolchain loaded")

endif()

#[===[

# Source: ../build/.cmake/api/v1/reply/toolchains.json

{
	"kind" : "toolchains",
	"toolchains" :
	[
		{
			"compiler" :
			{
				"id" : "GNU",
				"implicit" :
				{
					"includeDirectories" :
					[
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include",
						"C:/msys64/mingw64/include",
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed"
					],
					"linkDirectories" :
					[
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0",
						"C:/msys64/mingw64/lib/gcc",
						"C:/msys64/mingw64/x86_64-w64-mingw32/lib",
						"C:/msys64/mingw64/lib"
					],
					"linkFrameworkDirectories" : [],
					"linkLibraries" :
					[
						"mingw32",
						"gcc",
						"moldname",
						"mingwex",
						"kernel32",
						"pthread",
						"advapi32",
						"shell32",
						"user32",
						"kernel32",
						"mingw32",
						"gcc",
						"moldname",
						"mingwex",
						"kernel32"
					]
				},
				"path" : "C:/msys64/mingw64/bin/x86_64-w64-mingw32-gcc.exe",
				"target" : "x86_64-w64-mingw32",
				"version" : "13.1.0"
			},
			"language" : "C",
			"sourceFileExtensions" :
			[
				"c",
				"m"
			]
		},
		{
			"compiler" :
			{
				"id" : "GNU",
				"implicit" :
				{
					"includeDirectories" :
					[
						"C:/msys64/mingw64/include/c++/13.1.0",
						"C:/msys64/mingw64/include/c++/13.1.0/x86_64-w64-mingw32",
						"C:/msys64/mingw64/include/c++/13.1.0/backward",
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include",
						"C:/msys64/mingw64/include",
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0/include-fixed"
					],
					"linkDirectories" :
					[
						"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/13.1.0",
						"C:/msys64/mingw64/lib/gcc",
						"C:/msys64/mingw64/x86_64-w64-mingw32/lib",
						"C:/msys64/mingw64/lib"
					],
					"linkFrameworkDirectories" : [],
					"linkLibraries" :
					[
						"C:/msys64/mingw64/lib/libstdc++.a",
						"mingw32",
						"gcc",
						"moldname",
						"mingwex",
						"kernel32",
						"pthread",
						"advapi32",
						"shell32",
						"user32",
						"kernel32",
						"mingw32",
						"gcc",
						"moldname",
						"mingwex",
						"kernel32"
					]
				},
				"path" : "C:/msys64/mingw64/bin/x86_64-w64-mingw32-g++.exe",
				"target" : "x86_64-w64-mingw32",
				"version" : "13.1.0"
			},
			"language" : "CXX",
			"sourceFileExtensions" :
			[
				"C",
				"M",
				"c++",
				"cc",
				"cpp",
				"cxx",
				"mm",
				"mpp",
				"CPP",
				"ixx",
				"cppm"
			]
		},
		{
			"compiler" :
			{
				"implicit" : {},
				"path" : "C:/msys64/mingw64/bin/windres.exe",
				"target" : "x86_64-w64-mingw32"
			},
			"language" : "RC",
			"sourceFileExtensions" :
			[
				"rc",
				"RC"
			]
		}
	],
	"version" :
	{
		"major" : 1,
		"minor" : 0
	}
}
#]===]
